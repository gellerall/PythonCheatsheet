# Базовые принципы работы с модулем sqlite3

Устанавливаем соединение с базой данных с помощью метода __cnnect__. В качестве аргумента принимаем путь к базе данных. Если такого файла нет, библиотека сама создаст необходимый файл. 

```
db = sqlite3.connect('db/database.db')

```
Сразу после работы с базой данных нам необходимо закрыть соединение. Для этого применяется метод __close__.
Вся работа с базой данных происходит в промежутке между двумя этими методами. 
```
db.close()
```
Значительно выгоднее для подобных манипуляций использовать конструкцию __with ... as__, которая сама закроет соединение с базой после выполнения инструкций. 
```
with sqlite3.connect('db/database.db') as db:
    pass
```

Первым делом для работы с базой данных необходимо создать __курсор__ (объект, перемещающийся по базе данных и вносящий необходимые изменения с помощью метода execute. Аргументом к этому методу будут определенные запросы)
```
with sqlite3.connect('db/database.db') as db:
    cursor = db.cursore()
    query =
        ```
        create tabe if not exists test_table_1(id integer, data text)
        ```
    cursor.execute(query)

```
После работы с базой данных необходимо закомитить внесенные изменения с помощью метода __commit__. Это необязательно, но прописано в рекомендациях в документации к sqllite3.

Для более удобного добавления данных в таблицу можно использовать отдельный метод в модуле sqlite3 - __executemany__. В качестве аргумента он принимает два значения - сами данные, упакованные в список, и запрос к базе данных на добавление строк. 
```
cursor.executemany(query, insert_payments)
```
Данный запрос должен содержать в себе наименование таблицы, порядок полей и соответствующий ему порядок значений. 
```
query = 
    ```
    insert into test_table_1(id, data)
                values(?, ?)
    ```
```

